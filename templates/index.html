<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Screen Recorder Pro</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="background-animation"></div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <circle cx="12" cy="12" r="3" fill="currentColor"></circle>
                    </svg>
                </div>
                <h1>Screen Recorder <span class="pro-badge">PRO</span></h1>
            </div>
            <p class="tagline">Unlimited Recording • Annotations • Password Protection</p>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Video Preview Section -->
            <div class="preview-section">
                <div class="video-container" id="videoContainer">
                    <video id="preview" autoplay muted></video>
                    <video id="playback" controls style="display: none;"></video>
                    <div class="placeholder" id="placeholder">
                        <div class="placeholder-icon">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                <rect x="2" y="3" width="20" height="14" rx="2"></rect>
                                <path d="M8 21h8"></path>
                                <path d="M12 17v4"></path>
                            </svg>
                        </div>
                        <p>Click "Start Recording" to capture your screen</p>
                    </div>

                    <!-- Recording Indicator -->
                    <div class="recording-indicator" id="recordingIndicator">
                        <span class="rec-dot"></span>
                        <span>REC</span>
                        <span class="timer" id="timer">00:00:00</span>
                    </div>
                </div>
            </div>

            <!-- Controls Section -->
            <div class="controls-section">
                <div class="control-buttons">
                    <button class="btn btn-primary" id="startBtn">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <circle cx="12" cy="12" r="10"></circle>
                        </svg>
                        <span>Start Recording</span>
                    </button>

                    <button class="btn btn-warning" id="pauseBtn" disabled>
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="6" y="4" width="4" height="16"></rect>
                            <rect x="14" y="4" width="4" height="16"></rect>
                        </svg>
                        <span>Pause</span>
                    </button>

                    <button class="btn btn-danger" id="stopBtn" disabled>
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <rect x="4" y="4" width="16" height="16" rx="2"></rect>
                        </svg>
                        <span>Stop</span>
                    </button>

                    <button class="btn btn-secondary" id="annotateBtn" disabled title="Annotation Tools">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                            <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                        </svg>
                        <span>Annotate</span>
                    </button>
                </div>

                <div class="action-buttons" id="actionButtons" style="display: none;">
                    <button class="btn btn-success" id="downloadBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        <span>Download</span>
                    </button>

                    <button class="btn btn-info" id="saveBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                            <polyline points="17 21 17 13 7 13 7 21"></polyline>
                            <polyline points="7 3 7 8 15 8"></polyline>
                        </svg>
                        <span>Save to Server</span>
                    </button>

                    <button class="btn btn-purple" id="saveProtectedBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                        <span>Save with Password</span>
                    </button>

                    <button class="btn btn-secondary" id="newBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 5v14M5 12h14"></path>
                        </svg>
                        <span>New Recording</span>
                    </button>
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="settings-panel">
                <h3>Recording Options</h3>
                <div class="settings-grid">
                    <label class="checkbox-wrapper">
                        <input type="checkbox" id="audioToggle">
                        <span class="checkmark"></span>
                        <span>Include System Audio</span>
                    </label>
                    <label class="checkbox-wrapper">
                        <input type="checkbox" id="micToggle">
                        <span class="checkmark"></span>
                        <span>Include Microphone</span>
                    </label>
                </div>

                <!-- Screen Source Selection -->
                <div class="source-selection">
                    <h4>Capture Source</h4>
                    <div class="source-buttons">
                        <button class="source-btn active" data-source="screen" title="Entire Screen">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="3" width="20" height="14" rx="2"></rect>
                                <path d="M8 21h8M12 17v4"></path>
                            </svg>
                            <span>Screen</span>
                        </button>
                        <button class="source-btn" data-source="window" title="Application Window">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                                <path d="M3 9h18"></path>
                                <path d="M9 21V9"></path>
                            </svg>
                            <span>Window</span>
                        </button>
                        <button class="source-btn" data-source="tab" title="Browser Tab">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                                <path d="M2 17l10 5 10-5M2 12l10 5 10-5"></path>
                            </svg>
                            <span>Tab</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Recordings List -->
            <div class="recordings-section">
                <div class="section-header">
                    <h2>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z">
                            </path>
                        </svg>
                        Saved Recordings
                    </h2>
                    <button class="btn btn-ghost" id="refreshBtn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M23 4v6h-6"></path>
                            <path d="M1 20v-6h6"></path>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                        </svg>
                    </button>
                </div>
                <div class="recordings-list" id="recordingsList">
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
                            <polyline points="13 2 13 9 20 9"></polyline>
                        </svg>
                        <p>No recordings yet</p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>Made with Bawan using Python Flask</p>
        </footer>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast-message"></span>
    </div>

    <!-- Password Modal -->
    <div class="modal" id="passwordModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Set Password</h3>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            <div class="modal-body">
                <div class="input-group">
                    <label for="passwordInput">Password</label>
                    <input type="password" id="passwordInput" placeholder="Enter password">
                </div>
                <div class="input-group" id="confirmGroup">
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirmPassword" placeholder="Confirm password">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="modalCancel">Cancel</button>
                <button class="btn btn-primary" id="modalConfirm">Confirm</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/annotate.js') }}"></script>
    <script src="{{ url_for('static', filename='js/recorder.js') }}"></script>
</body>

</html>